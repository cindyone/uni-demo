module.exports = function ({
  types: t
}) {
  return {
    visitor: {
      MemberExpression (path, state) {
        if (t.isIdentifier(path.node.property) && path.node.property.name === '$mount') {
          path.get('object').replaceWith(
            t.callExpression(
              t.identifier('createApp'),
              [
                path.node.object
              ]
            )
          )
          path.stop()
        }
      }
    }
  }
}
